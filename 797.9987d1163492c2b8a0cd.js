/*! For license information please see 797.9987d1163492c2b8a0cd.js.LICENSE.txt */
"use strict";(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[797],{1965:(t,n,r)=>{r.d(n,{h:()=>i});var e=r(8934);function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function i(t){var n,r,i=(n=(0,e.ok)(),r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(e=i.call(r)).done)&&(u.push(e.value),u.length!==n);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(n,r)||function(t,n){if(t){if("string"==typeof t)return o(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],u=i[1];return{isOpen:"1"===a.get(t),open:function(){var n=new URLSearchParams(a);n.set(t,"1"),u(n)},close:function(){var n=new URLSearchParams(a);n.delete(t),u(n)}}}},3103:(t,n,r)=>{r.d(n,{A:()=>i});var e=r(2873),o=r(4848);const i=function(t){var n=t.movie,r=t.onClose,i=t.isOpen,a=n?function(t,n){if(t)return"https://www.youtube.com/embed/".concat(t);if(!n)return null;try{var r=new URL(n);if(r.hostname.includes("youtube.com")){var e=r.searchParams.get("v");if(e)return"https://www.youtube.com/embed/".concat(e)}if("youtu.be"===r.hostname){var o=r.pathname.replace("/","");if(o)return"https://www.youtube.com/embed/".concat(o)}}catch(t){console.error("Некорректный trailerUrl:",n,t)}return null}(n.trailerYoutubeId,n.trailerUrl):null,u=a?"".concat(a,"?autoplay=1"):null;return(0,o.jsx)(e.A,{isOpen:i,onClose:r,variant:"trailer",modalClassName:"modal-trailer",children:u?(0,o.jsx)("div",{className:"modal-trailer__video-wrapper",children:(0,o.jsx)("iframe",{className:"modal-trailer__video",src:u,title:n.title||"Трейлер",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,o.jsx)("p",{className:"modal-trailer__empty",children:"Трейлер недоступен для этого фильма"})})}},5209:(t,n,r)=>{r.d(n,{A:()=>v});var e,o=r(4160),i=r(6540);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)({}).hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},a.apply(null,arguments)}const u=function(t){return i.createElement("svg",a({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e||(e=i.createElement("path",{d:"M12 4C14.7486 4 17.1749 5.38626 18.6156 7.5H16V9.5H22V3.5H20V5.99936C18.1762 3.57166 15.2724 2 12 2C6.47715 2 2 6.47715 2 12H4C4 7.58172 7.58172 4 12 4ZM20 12C20 16.4183 16.4183 20 12 20C9.25144 20 6.82508 18.6137 5.38443 16.5H8V14.5H2V20.5H4V18.0006C5.82381 20.4283 8.72764 22 12 22C17.5228 22 22 17.5228 22 12H20Z",fill:"currentColor"})))};var c=r(8776),l=r(9544),s=r(443),f=r(4848);const v=function(t){var n,r,e,i=t.movie,a=t.showAboutLink,v=void 0===a||a,p=t.onTrailerClick,m=t.onRefreshClick,d=t.onAuthRequired,y=v?"h2":"h1";return(0,f.jsxs)("article",{className:"movie-card",children:[(0,f.jsxs)("div",{className:"movie-card__content",children:[(0,f.jsxs)("div",{className:"movie-card__info-wrapper",children:[(0,f.jsxs)("div",{className:"movie-card__info",children:[(0,f.jsx)(o.A,{value:i.tmdbRating}),(0,f.jsx)("span",{className:"movie-card__text",children:null!==(n=i.releaseYear)&&void 0!==n?n:"—"}),(0,f.jsx)("span",{className:"movie-card__text",children:(null===(r=i.genres)||void 0===r?void 0:r.join(", "))||"Жанр не указан"}),(0,f.jsx)("span",{className:"movie-card__text",children:i.runtime?"".concat(i.runtime," мин."):"—"})]}),(0,f.jsx)(y,{className:"movie-card__title",children:i.title||"Без названия"}),(0,f.jsx)("p",{className:"movie-card__descr",children:i.plot||"Описание фильма будет добавлено позже."})]}),(0,f.jsxs)("div",{className:"movie-card__actions-wrapper",children:[(0,f.jsx)(l.A,{variant:"primary",onClick:p,className:"movie-card__btn-trailer",children:"Трейлер"}),v?(0,f.jsx)(c.A,{to:"/movie/".concat(i.id),label:"О фильме",variant:"button"}):null,(0,f.jsx)(s.A,{movieId:i.id,onAuthRequired:d}),v?(0,f.jsx)(l.A,{variant:"icon",onClick:m,children:(0,f.jsx)(u,{})}):null]})]}),(0,f.jsx)("img",{className:"movie-card__img",src:null!==(e=i.backdropUrl)&&void 0!==e?e:i.posterUrl,width:680,height:552,alt:"Постер фильма ".concat(i.title)})]})}},6354:(t,n,r)=>{r.d(n,{A:()=>l});var e=r(8776),o=r(553),i=r(443),a=r(6942),u=r.n(a),c=r(4848);const l=function(t){var n=t.movie,r=t.index,a=t.variant,l=t.onRemoveStart;return(0,c.jsxs)("article",{className:u()("top-movie-card",{"top-movie-card--favorite":"favorite"===a}),children:["top"===a?(0,c.jsx)("div",{className:"top-movie-card__number",children:r}):null,"favorite"===a?(0,c.jsx)(i.A,{movieId:n.id,variant:"remove",onRemoveStart:l,className:"top-movie-card__remove","aria-label":"Удалить из избраного"}):null,(0,c.jsx)(e.A,{to:"/movie/".concat(n.id),variant:"img",className:"top-movie-card__link",children:(0,c.jsx)(o.A,{src:n.posterUrl,alt:"Постер фильма ".concat(n.title),className:"top-movie-card__img"})})]})}},8730:(t,n,r)=>{r.r(n),r.d(n,{default:()=>M});var e=r(6540),o=r(1791);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){var t=v(),n=t.m(a),r=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function e(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===r||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,r;return function(e){n||(n={stop:function(){return r(e.a,2)},catch:function(){return e.v},abrupt:function(t,n){return r(e.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,r(e.d,u(t),i)},finish:function(t){return r(e.f,t)}},r=function(t,r,o){e.p=n.prev,e.n=n.next;try{return t(r,o)}finally{n.next=e.n}}),n.resultName&&(n[n.resultName]=e.v,n.resultName=void 0),n.sent=e.v,n.next=e.n;try{return t.call(this,n)}finally{e.p=n.prev,e.n=n.next}}}return(a=function(){return{wrap:function(n,r,e,o){return t.w(i(n),r,e,o&&o.reverse())},isGeneratorFunction:e,mark:t.m,awrap:function(t,n){return new m(t,n)},AsyncIterator:f,async:function(t,n,r,o,a){return(e(n)?s:l)(i(t),n,r,o,a)},keys:c,values:u}})()}function u(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}throw new TypeError(i(t)+" is not iterable")}function c(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}}function l(t,n,r,e,o){var i=s(t,n,r,e,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function s(t,n,r,e,o){return new f(v().w(t,n,r,e),o||Promise)}function f(t,n){function r(e,o,i,a){try{var u=t[e](o),c=u.value;return c instanceof m?n.resolve(c.v).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):n.resolve(c).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}catch(t){a(t)}}var e;this.next||(p(f.prototype),p(f.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),p(this,"_invoke",function(t,o,i){function a(){return new n(function(n,e){r(t,i,n,e)})}return e=e?e.then(a,a):a()},!0)}function v(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,e,o,i){var c=e&&e.prototype instanceof u?e:u,l=Object.create(c.prototype);return p(l,"_invoke",function(r,e,o){var i,u,c,l=0,s=o||[],f=!1,v={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,r){return i=n,u=0,c=t,v.n=r,a}};function p(r,e){for(u=r,c=e,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],p=v.p,m=i[2];r>3?(o=m===e)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,v.v=e,v.n=i[1]):p<m&&(o=r<3||i[0]>e||e>m)&&(i[4]=r,i[5]=e,v.n=m,u=0))}if(o||r>1)return a;throw f=!0,e}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),u=s,c=m;(n=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(v.n=-1),p(u,c)):v.n=c:v.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(f=v.n<0)?c:r.call(e,v))!==a)break}catch(n){i=t,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][e]?n(n([][e]())):(p(n={},e,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,p(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,p(f,"constructor",l),p(l,"constructor",c),c.displayName="GeneratorFunction",p(l,o,"GeneratorFunction"),p(f),p(f,o,"Generator"),p(f,e,function(){return this}),p(f,"toString",function(){return"[object Generator]"}),(v=function(){return{w:i,m}})()}function p(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}p=function(t,n,r,e){function i(n,r){p(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},p(t,n,r,e)}function m(t,n){this.v=t,this.k=n}function d(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function y(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){d(i,e,o,a,u,"next",t)}function u(t){d(i,e,o,a,u,"throw",t)}a(void 0)})}}function h(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(e=i.call(r)).done)&&(u.push(e.value),u.length!==n);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return b(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}var w=r(5209),x=r(1087),j=r(3103),g=r(1965),_=r(4848);const S=function(t){var n=t.onAuthRequired,r=function(){var t=h((0,e.useState)(null),2),n=t[0],r=t[1],i=h((0,e.useState)(!0),2),u=i[0],c=i[1],l=h((0,e.useState)(null),2),s=l[0],f=l[1],v=(0,e.useCallback)(y(a().mark(function t(){var n;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,o.u.movie.movieRandomGet();case 4:n=t.sent,r(n.data),f(null),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),f(t.t0 instanceof Error?t.t0.message:"Ошибка загрузки");case 12:return t.prev=12,c(!1),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[0,9,12,15]])})),[]);return(0,e.useEffect)(function(){v()},[v]),{movie:n,loading:u,error:s,reset:v}}(),i=r.movie,u=r.loading,c=r.error,l=r.reset,s=(0,g.h)("trailer"),f=s.isOpen,v=s.open,p=s.close,m=!u&&!c&&i;return(0,_.jsx)("section",{className:"hero",children:(0,_.jsxs)("div",{className:"container",children:[(0,_.jsx)(x.A,{loading:u,error:c,spinnerSize:"lg",spinnerWrapperClassName:"hero__spiner"}),m&&(0,_.jsx)(w.A,{movie:i,onTrailerClick:v,onRefreshClick:l,onAuthRequired:n}),m&&(0,_.jsx)(j.A,{movie:i,isOpen:f,onClose:p})]})})};function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function N(){var t=G(),n=t.m(N),r=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function e(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===r||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,r;return function(e){n||(n={stop:function(){return r(e.a,2)},catch:function(){return e.v},abrupt:function(t,n){return r(e.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,r(e.d,A(t),i)},finish:function(t){return r(e.f,t)}},r=function(t,r,o){e.p=n.prev,e.n=n.next;try{return t(r,o)}finally{n.next=e.n}}),n.resultName&&(n[n.resultName]=e.v,n.resultName=void 0),n.sent=e.v,n.next=e.n;try{return t.call(this,n)}finally{e.p=n.prev,e.n=n.next}}}return(N=function(){return{wrap:function(n,r,e,o){return t.w(i(n),r,e,o&&o.reverse())},isGeneratorFunction:e,mark:t.m,awrap:function(t,n){return new E(t,n)},AsyncIterator:T,async:function(t,n,r,o,a){return(e(n)?P:C)(i(t),n,r,o,a)},keys:k,values:A}})()}function A(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}throw new TypeError(O(t)+" is not iterable")}function k(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}}function C(t,n,r,e,o){var i=P(t,n,r,e,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function P(t,n,r,e,o){return new T(G().w(t,n,r,e),o||Promise)}function T(t,n){function r(e,o,i,a){try{var u=t[e](o),c=u.value;return c instanceof E?n.resolve(c.v).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):n.resolve(c).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}catch(t){a(t)}}var e;this.next||(I(T.prototype),I(T.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),I(this,"_invoke",function(t,o,i){function a(){return new n(function(n,e){r(t,i,n,e)})}return e=e?e.then(a,a):a()},!0)}function G(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,e,o,i){var c=e&&e.prototype instanceof u?e:u,l=Object.create(c.prototype);return I(l,"_invoke",function(r,e,o){var i,u,c,l=0,s=o||[],f=!1,v={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,r){return i=n,u=0,c=t,v.n=r,a}};function p(r,e){for(u=r,c=e,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],p=v.p,m=i[2];r>3?(o=m===e)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=r<2&&p<i[1])?(u=0,v.v=e,v.n=i[1]):p<m&&(o=r<3||i[0]>e||e>m)&&(i[4]=r,i[5]=e,v.n=m,u=0))}if(o||r>1)return a;throw f=!0,e}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),u=s,c=m;(n=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(v.n=-1),p(u,c)):v.n=c:v.v=c);try{if(l=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(f=v.n<0)?c:r.call(e,v))!==a)break}catch(n){i=t,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(r,o,i),!0),l}var a={};function u(){}function c(){}function l(){}n=Object.getPrototypeOf;var s=[][e]?n(n([][e]())):(I(n={},e,function(){return this}),n),f=l.prototype=u.prototype=Object.create(s);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,I(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,I(f,"constructor",l),I(l,"constructor",c),c.displayName="GeneratorFunction",I(l,o,"GeneratorFunction"),I(f),I(f,o,"Generator"),I(f,e,function(){return this}),I(f,"toString",function(){return"[object Generator]"}),(G=function(){return{w:i,m:v}})()}function I(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}I=function(t,n,r,e){function i(n,r){I(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},I(t,n,r,e)}function E(t,n){this.v=t,this.k=n}function R(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function F(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){R(i,e,o,a,u,"next",t)}function u(t){R(i,e,o,a,u,"throw",t)}a(void 0)})}}function U(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(e=i.call(r)).done)&&(u.push(e.value),u.length!==n);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return H(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}var q=r(6354);const V=function(){var t=function(){var t=U((0,e.useState)([]),2),n=t[0],r=t[1],i=U((0,e.useState)(!0),2),a=i[0],u=i[1],c=U((0,e.useState)(null),2),l=c[0],s=c[1],f=(0,e.useCallback)(F(N().mark(function t(){var n;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,o.u.movie.movieTop10Get();case 4:n=t.sent,r(n.data),s(null),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s(t.t0 instanceof Error?t.t0.message:"Ошибка загрузки");case 12:return t.prev=12,u(!1),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[0,9,12,15]])})),[]);return(0,e.useEffect)(function(){f()},[f]),{movies:n,loading:a,error:l}}(),n=t.movies,r=t.loading,i=t.error,a=!r&&!i&&n;return(0,_.jsx)("section",{className:"top-movies",children:(0,_.jsxs)("div",{className:"container",children:[(0,_.jsx)(x.A,{loading:r,error:i,spinnerSize:"lg"}),a&&(0,_.jsx)("ul",{className:"top-movies__list",children:n.map(function(t,n){return(0,_.jsx)("li",{className:"top-movies__item",children:(0,_.jsx)(q.A,{movie:t,index:n+1,variant:"top"})},t.id)})})]})})},M=function(t){var n=t.onAuthRequired;return(0,_.jsxs)("div",{className:"main-page",children:[(0,_.jsx)("h1",{className:"visually-hidden",children:"Онлайн-кинотеатр — лучшие фильмы"}),(0,_.jsx)(S,{onAuthRequired:n}),(0,_.jsx)(V,{})]})}}}]);
//# sourceMappingURL=797.9987d1163492c2b8a0cd.js.map