"use strict";(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[824],{1965:(e,r,a)=>{a.d(r,{h:()=>l});var n=a(8934);function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,n=Array(r);a<r;a++)n[a]=e[a];return n}function l(e){var r,a,l=(r=(0,n.ok)(),a=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,t,l,i,o=[],s=!0,c=!1;try{if(l=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=l.call(a)).done)&&(o.push(n.value),o.length!==r);s=!0);}catch(e){c=!0,t=e}finally{try{if(!s&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw t}}return o}}(r,a)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,r):void 0}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=l[0],o=l[1];return{isOpen:"1"===i.get(e),open:function(){var r=new URLSearchParams(i);r.set(e,"1"),o(r)},close:function(){var r=new URLSearchParams(i);r.delete(e),o(r)}}}},3103:(e,r,a)=>{a.d(r,{A:()=>l});var n=a(2873),t=a(4848);const l=function(e){var r=e.movie,a=e.onClose,l=e.isOpen,i=r?function(e,r){if(e)return"https://www.youtube.com/embed/".concat(e);if(!r)return null;try{var a=new URL(r);if(a.hostname.includes("youtube.com")){var n=a.searchParams.get("v");if(n)return"https://www.youtube.com/embed/".concat(n)}if("youtu.be"===a.hostname){var t=a.pathname.replace("/","");if(t)return"https://www.youtube.com/embed/".concat(t)}}catch(e){console.error("Некорректный trailerUrl:",r,e)}return null}(r.trailerYoutubeId,r.trailerUrl):null,o=i?"".concat(i,"?autoplay=1"):null;return(0,t.jsx)(n.A,{isOpen:l,onClose:a,variant:"trailer",modalClassName:"modal-trailer",children:o?(0,t.jsx)("div",{className:"modal-trailer__video-wrapper",children:(0,t.jsx)("iframe",{className:"modal-trailer__video",src:o,title:r.title||"Трейлер",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,t.jsx)("p",{className:"modal-trailer__empty",children:"Трейлер недоступен для этого фильма"})})}},5209:(e,r,a)=>{a.d(r,{A:()=>d});var n,t=a(4160),l=a(6540);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(null,arguments)}const o=function(e){return l.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M12 4C14.7486 4 17.1749 5.38626 18.6156 7.5H16V9.5H22V3.5H20V5.99936C18.1762 3.57166 15.2724 2 12 2C6.47715 2 2 6.47715 2 12H4C4 7.58172 7.58172 4 12 4ZM20 12C20 16.4183 16.4183 20 12 20C9.25144 20 6.82508 18.6137 5.38443 16.5H8V14.5H2V20.5H4V18.0006C5.82381 20.4283 8.72764 22 12 22C17.5228 22 22 17.5228 22 12H20Z",fill:"currentColor"})))};var s=a(8776),c=a(9544),u=a(443),m=a(4848);const d=function(e){var r,a,n,l=e.movie,i=e.showAboutLink,d=void 0===i||i,v=e.onTrailerClick,h=e.onRefreshClick,p=e.onAuthRequired,f=d?"h2":"h1";return(0,m.jsxs)("article",{className:"movie-card",children:[(0,m.jsxs)("div",{className:"movie-card__content",children:[(0,m.jsxs)("div",{className:"movie-card__info-wrapper",children:[(0,m.jsxs)("div",{className:"movie-card__info",children:[(0,m.jsx)(t.A,{value:l.tmdbRating}),(0,m.jsx)("span",{className:"movie-card__text",children:null!==(r=l.releaseYear)&&void 0!==r?r:"—"}),(0,m.jsx)("span",{className:"movie-card__text",children:(null===(a=l.genres)||void 0===a?void 0:a.join(", "))||"Жанр не указан"}),(0,m.jsx)("span",{className:"movie-card__text",children:l.runtime?"".concat(l.runtime," мин."):"—"})]}),(0,m.jsx)(f,{className:"movie-card__title",children:l.title||"Без названия"}),(0,m.jsx)("p",{className:"movie-card__descr",children:l.plot||"Описание фильма будет добавлено позже."})]}),(0,m.jsxs)("div",{className:"movie-card__actions-wrapper",children:[(0,m.jsx)(c.A,{variant:"primary",onClick:v,className:"movie-card__btn-trailer",children:"Трейлер"}),d?(0,m.jsx)(s.A,{to:"/movie/".concat(l.id),label:"О фильме",variant:"button"}):null,(0,m.jsx)(u.A,{movieId:l.id,onAuthRequired:p}),d?(0,m.jsx)(c.A,{variant:"icon",onClick:h,children:(0,m.jsx)(o,{})}):null]})]}),(0,m.jsx)("img",{className:"movie-card__img",src:null!==(n=l.backdropUrl)&&void 0!==n?n:l.posterUrl,width:680,height:552,alt:"Постер фильма ".concat(l.title)})]})}},7487:(e,r,a)=>{a.r(r),a.d(r,{default:()=>m});var n=a(8934),t=a(5695),l=a(1087),i=a(5209),o=a(4848);const s=function(e){var r=e.movie,a=function(e){if(null==e)return null;var r=Number(e);return isNaN(r)||r<=0?null:new Intl.NumberFormat("ru-RU").format(r)+" ₽"},n=[{label:"Язык оригинала",value:r.language},{label:"Бюджет",value:a(r.budget)},{label:"Выручка",value:a(r.revenue)},{label:"Режиссёр",value:r.director},{label:"Продакшен",value:r.production},{label:"Награды",value:r.awardsSummary}];return(0,o.jsx)("div",{className:"movie-details",children:n.map(function(e){var r=e.label,a=e.value;return a&&(0,o.jsxs)("div",{className:"movie-details__row",children:[(0,o.jsx)("span",{className:"movie-details__label",children:r}),(0,o.jsx)("span",{className:"movie-details__dots"}),(0,o.jsx)("span",{className:"movie-details__value",children:a})]},r)})})};var c=a(1965),u=a(3103);const m=function(){var e=(0,n.g)().id,r=(0,t.UN)(Number(e)),a=r.movie,m=r.loading,d=r.error,v=(0,c.h)("trailer"),h=v.isOpen,p=v.open,f=v.close,b=!m&&!d&&a;return(0,o.jsx)("section",{className:"movie",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)(l.A,{loading:m,error:d,spinnerSize:"lg"}),b&&(0,o.jsxs)("div",{className:"movie__content",children:[(0,o.jsx)(i.A,{movie:a,showAboutLink:!1,onTrailerClick:p}),(0,o.jsx)("h2",{className:"movie__captain",children:"О фильме"}),(0,o.jsx)(s,{movie:a})]}),b&&(0,o.jsx)(u.A,{movie:a,isOpen:h,onClose:f})]})})}}}]);
//# sourceMappingURL=824.dd45c731bcd58d5ded57.js.map