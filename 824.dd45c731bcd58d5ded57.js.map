{"version":3,"file":"824.dd45c731bcd58d5ded57.js","mappings":"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","sources":["webpack://webpack/./src/hooks/useModal.ts","webpack://webpack/./src/ui/ModalTrailer/ModalTrailer.tsx","webpack://webpack/./src/utils/youtube.ts","webpack://webpack/./src/ui/MovieCard/refresh-icon.svg","webpack://webpack/./src/ui/MovieCard/MovieCard.tsx","webpack://webpack/./src/ui/MovieDetails/MovieDetails.tsx","webpack://webpack/./src/pages/MoviePage/MoviePage.tsx"],"sourcesContent":["function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) {\n    if (\"string\" == typeof r)\n        return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n} }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++)\n    n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) {\n    var e, n, i, u, a = [], f = !0, o = !1;\n    try {\n        if (i = (t = t.call(r)).next, 0 === l) {\n            if (Object(t) !== t)\n                return;\n            f = !1;\n        }\n        else\n            for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0)\n                ;\n    }\n    catch (r) {\n        o = !0, n = r;\n    }\n    finally {\n        try {\n            if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u))\n                return;\n        }\n        finally {\n            if (o)\n                throw n;\n        }\n    }\n    return a;\n} }\nfunction _arrayWithHoles(r) { if (Array.isArray(r))\n    return r; }\nimport { useSearchParams } from 'react-router-dom';\nexport function useModal(paramName) {\n    var _useSearchParams = useSearchParams(), _useSearchParams2 = _slicedToArray(_useSearchParams, 2), searchParams = _useSearchParams2[0], setSearchParams = _useSearchParams2[1];\n    var isOpen = searchParams.get(paramName) === '1';\n    var open = function open() {\n        var params = new URLSearchParams(searchParams);\n        params.set(paramName, '1');\n        setSearchParams(params);\n    };\n    var close = function close() {\n        var params = new URLSearchParams(searchParams);\n        params[\"delete\"](paramName);\n        setSearchParams(params);\n    };\n    return {\n        isOpen: isOpen,\n        open: open,\n        close: close\n    };\n}\n","import Modal from '@/ui/Modal';\nimport { getYoutubeEmbedUrl } from '@/utils/youtube';\n//Стили\nimport './ModalTrailer.scss';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar ModalTrailer = function ModalTrailer(_ref) {\n    var movie = _ref.movie, onClose = _ref.onClose, isOpen = _ref.isOpen;\n    var baseSrc = movie ? getYoutubeEmbedUrl(movie.trailerYoutubeId, movie.trailerUrl) : null;\n    var trailerSrc = baseSrc ? \"\".concat(baseSrc, \"?autoplay=1\") : null;\n    return /*#__PURE__*/ _jsx(Modal, {\n        isOpen: isOpen,\n        onClose: onClose,\n        variant: \"trailer\",\n        modalClassName: \"modal-trailer\",\n        children: trailerSrc ? /*#__PURE__*/ _jsx(\"div\", {\n            className: \"modal-trailer__video-wrapper\",\n            children: /*#__PURE__*/ _jsx(\"iframe\", {\n                className: \"modal-trailer__video\",\n                src: trailerSrc,\n                title: movie.title || 'Трейлер',\n                allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n                allowFullScreen: true\n            })\n        }) : /*#__PURE__*/ _jsx(\"p\", {\n            className: \"modal-trailer__empty\",\n            children: \"\\u0422\\u0440\\u0435\\u0439\\u043B\\u0435\\u0440 \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0435\\u043D \\u0434\\u043B\\u044F \\u044D\\u0442\\u043E\\u0433\\u043E \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430\"\n        })\n    });\n};\nexport default ModalTrailer;\n","export function getYoutubeEmbedUrl(trailerYoutubeId, trailerUrl) {\n    if (trailerYoutubeId) {\n        return \"https://www.youtube.com/embed/\".concat(trailerYoutubeId);\n    }\n    if (!trailerUrl)\n        return null;\n    try {\n        var url = new URL(trailerUrl);\n        if (url.hostname.includes('youtube.com')) {\n            var id = url.searchParams.get('v');\n            if (id)\n                return \"https://www.youtube.com/embed/\".concat(id);\n        }\n        if (url.hostname === 'youtu.be') {\n            var _id = url.pathname.replace('/', '');\n            if (_id)\n                return \"https://www.youtube.com/embed/\".concat(_id);\n        }\n    }\n    catch (e) {\n        console.error('Некорректный trailerUrl:', trailerUrl, e);\n    }\n    return null;\n}\n","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgRefreshIcon = function SvgRefreshIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 4C14.7486 4 17.1749 5.38626 18.6156 7.5H16V9.5H22V3.5H20V5.99936C18.1762 3.57166 15.2724 2 12 2C6.47715 2 2 6.47715 2 12H4C4 7.58172 7.58172 4 12 4ZM20 12C20 16.4183 16.4183 20 12 20C9.25144 20 6.82508 18.6137 5.38443 16.5H8V14.5H2V20.5H4V18.0006C5.82381 20.4283 8.72764 22 12 22C17.5228 22 22 17.5228 22 12H20Z\",\n    fill: \"currentColor\"\n  })));\n};\nexport default SvgRefreshIcon;","import RatingMovie from '@/ui/RatingMovie';\nimport RefreshIcon from './refresh-icon.svg';\nimport Link from '@/ui/Link';\nimport Button from '@/ui/Button';\nimport FavoriteButton from '@/ui/FavoriteButton';\n// Стили\nimport './MovieCard.scss';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MovieCard = function MovieCard(_ref) {\n    var _movie$releaseYear, _movie$genres, _movie$backdropUrl;\n    var movie = _ref.movie, _ref$showAboutLink = _ref.showAboutLink, showAboutLink = _ref$showAboutLink === void 0 ? true : _ref$showAboutLink, onTrailerClick = _ref.onTrailerClick, onRefreshClick = _ref.onRefreshClick, onAuthRequired = _ref.onAuthRequired;\n    var TitleTag = showAboutLink ? 'h2' : 'h1';\n    return /*#__PURE__*/ _jsxs(\"article\", {\n        className: \"movie-card\",\n        children: [/*#__PURE__*/ _jsxs(\"div\", {\n                className: \"movie-card__content\",\n                children: [/*#__PURE__*/ _jsxs(\"div\", {\n                        className: \"movie-card__info-wrapper\",\n                        children: [/*#__PURE__*/ _jsxs(\"div\", {\n                                className: \"movie-card__info\",\n                                children: [/*#__PURE__*/ _jsx(RatingMovie, {\n                                        value: movie.tmdbRating\n                                    }), /*#__PURE__*/ _jsx(\"span\", {\n                                        className: \"movie-card__text\",\n                                        children: (_movie$releaseYear = movie.releaseYear) !== null && _movie$releaseYear !== void 0 ? _movie$releaseYear : '—'\n                                    }), /*#__PURE__*/ _jsx(\"span\", {\n                                        className: \"movie-card__text\",\n                                        children: ((_movie$genres = movie.genres) === null || _movie$genres === void 0 ? void 0 : _movie$genres.join(', ')) || 'Жанр не указан'\n                                    }), /*#__PURE__*/ _jsx(\"span\", {\n                                        className: \"movie-card__text\",\n                                        children: movie.runtime ? \"\".concat(movie.runtime, \" \\u043C\\u0438\\u043D.\") : '—'\n                                    })]\n                            }), /*#__PURE__*/ _jsx(TitleTag, {\n                                className: \"movie-card__title\",\n                                children: movie.title || 'Без названия'\n                            }), /*#__PURE__*/ _jsx(\"p\", {\n                                className: \"movie-card__descr\",\n                                children: movie.plot || 'Описание фильма будет добавлено позже.'\n                            })]\n                    }), /*#__PURE__*/ _jsxs(\"div\", {\n                        className: \"movie-card__actions-wrapper\",\n                        children: [/*#__PURE__*/ _jsx(Button, {\n                                variant: \"primary\",\n                                onClick: onTrailerClick,\n                                className: \"movie-card__btn-trailer\",\n                                children: \"\\u0422\\u0440\\u0435\\u0439\\u043B\\u0435\\u0440\"\n                            }), showAboutLink ? /*#__PURE__*/ _jsx(Link, {\n                                to: \"/movie/\".concat(movie.id),\n                                label: 'О фильме',\n                                variant: \"button\"\n                            }) : null, /*#__PURE__*/ _jsx(FavoriteButton, {\n                                movieId: movie.id,\n                                onAuthRequired: onAuthRequired\n                            }), showAboutLink ? /*#__PURE__*/ _jsx(Button, {\n                                variant: \"icon\",\n                                onClick: onRefreshClick,\n                                children: /*#__PURE__*/ _jsx(RefreshIcon, {})\n                            }) : null]\n                    })]\n            }), /*#__PURE__*/ _jsx(\"img\", {\n                className: \"movie-card__img\",\n                src: (_movie$backdropUrl = movie.backdropUrl) !== null && _movie$backdropUrl !== void 0 ? _movie$backdropUrl : movie.posterUrl,\n                width: 680,\n                height: 552,\n                alt: \"\\u041F\\u043E\\u0441\\u0442\\u0435\\u0440 \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430 \".concat(movie.title)\n            })]\n    });\n};\nexport default MovieCard;\n","// Стили\nimport './MovieDetails.scss';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MovieDetails = function MovieDetails(_ref) {\n    var movie = _ref.movie;\n    var formatCurrency = function formatCurrency(num) {\n        if (num === undefined || num === null)\n            return null;\n        var value = Number(num);\n        if (isNaN(value) || value <= 0)\n            return null;\n        return new Intl.NumberFormat('ru-RU').format(value) + ' ₽';\n    };\n    var details = [{\n            label: 'Язык оригинала',\n            value: movie.language\n        }, {\n            label: 'Бюджет',\n            value: formatCurrency(movie.budget)\n        }, {\n            label: 'Выручка',\n            value: formatCurrency(movie.revenue)\n        }, {\n            label: 'Режиссёр',\n            value: movie.director\n        }, {\n            label: 'Продакшен',\n            value: movie.production\n        }, {\n            label: 'Награды',\n            value: movie.awardsSummary\n        }];\n    return /*#__PURE__*/ _jsx(\"div\", {\n        className: \"movie-details\",\n        children: details.map(function (_ref2) {\n            var label = _ref2.label, value = _ref2.value;\n            return value && /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"movie-details__row\",\n                children: [/*#__PURE__*/ _jsx(\"span\", {\n                        className: \"movie-details__label\",\n                        children: label\n                    }), /*#__PURE__*/ _jsx(\"span\", {\n                        className: \"movie-details__dots\"\n                    }), /*#__PURE__*/ _jsx(\"span\", {\n                        className: \"movie-details__value\",\n                        children: value\n                    })]\n            }, label);\n        })\n    });\n};\nexport default MovieDetails;\n","import { useParams } from 'react-router-dom';\nimport { useMovieById } from '@/hooks/useMovies';\nimport AsyncState from '@/ui/AsyncState';\nimport MovieCard from '@/ui/MovieCard';\nimport MovieDetails from '@/ui/MovieDetails';\nimport { useModal } from '@/hooks/useModal';\nimport ModalTrailer from '@/ui/ModalTrailer';\n//Стили\nimport './MoviePage.scss';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MoviePage = function MoviePage() {\n    var _useParams = useParams(), id = _useParams.id;\n    var _useMovieById = useMovieById(Number(id)), movie = _useMovieById.movie, loading = _useMovieById.loading, error = _useMovieById.error;\n    var _useModal = useModal('trailer'), isOpen = _useModal.isOpen, open = _useModal.open, close = _useModal.close;\n    var hasMovie = !loading && !error && movie;\n    return /*#__PURE__*/ _jsx(\"section\", {\n        className: \"movie\",\n        children: /*#__PURE__*/ _jsxs(\"div\", {\n            className: \"container\",\n            children: [/*#__PURE__*/ _jsx(AsyncState, {\n                    loading: loading,\n                    error: error,\n                    spinnerSize: \"lg\"\n                }), hasMovie && /*#__PURE__*/ _jsxs(\"div\", {\n                    className: \"movie__content\",\n                    children: [/*#__PURE__*/ _jsx(MovieCard, {\n                            movie: movie,\n                            showAboutLink: false,\n                            onTrailerClick: open\n                        }), /*#__PURE__*/ _jsx(\"h2\", {\n                            className: \"movie__captain\",\n                            children: \"\\u041E \\u0444\\u0438\\u043B\\u044C\\u043C\\u0435\"\n                        }), /*#__PURE__*/ _jsx(MovieDetails, {\n                            movie: movie\n                        })]\n                }), hasMovie && /*#__PURE__*/ _jsx(ModalTrailer, {\n                    movie: movie,\n                    isOpen: isOpen,\n                    onClose: close\n                })]\n        })\n    });\n};\nexport default MoviePage;\n"],"names":["_arrayLikeToArray","r","a","length","e","n","Array","useModal","paramName","_useSearchParams2","isArray","_arrayWithHoles","l","t","Symbol","iterator","i","u","f","o","call","next","Object","done","push","value","_iterableToArrayLimit","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","searchParams","setSearchParams","isOpen","get","open","params","URLSearchParams","set","close","_ref","movie","onClose","baseSrc","trailerYoutubeId","trailerUrl","concat","url","URL","hostname","includes","id","_id","pathname","replace","console","error","getYoutubeEmbedUrl","trailerSrc","Modal","variant","modalClassName","children","className","src","title","allow","allowFullScreen","_path","_extends","assign","bind","arguments","hasOwnProperty","apply","props","width","height","viewBox","fill","xmlns","d","_movie$releaseYear","_movie$genres","_movie$backdropUrl","_ref$showAboutLink","showAboutLink","onTrailerClick","onRefreshClick","onAuthRequired","TitleTag","RatingMovie","tmdbRating","releaseYear","genres","join","runtime","plot","Button","onClick","Link","to","label","FavoriteButton","movieId","backdropUrl","posterUrl","alt","formatCurrency","num","Number","isNaN","Intl","NumberFormat","format","details","language","budget","revenue","director","production","awardsSummary","map","_ref2","_useMovieById","loading","_useModal","hasMovie","AsyncState","A","spinnerSize","MovieCard","ModalTrailer"],"sourceRoot":""}